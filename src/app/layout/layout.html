<div class="app-layout">

    <!-- Fixed Top Header -->
    <header class="top-header">
        <div class="header-container">

            <!-- Brand / Logo -->
            <a routerLink="/" class="logo-area">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" />
                </svg>
                <h1 class="logo-text">Dev<span>Structure</span></h1>
            </a>

            <!-- Navigation & Actions Container -->
            <div class="nav-actions-wrapper">

                <!-- Desktop Nav -->
                <nav class="main-nav">
                    <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Inicio</a>
                    <a routerLink="/elementos" routerLinkActive="active">Elementos</a>
                    <a routerLink="/menu" routerLinkActive="active">Menú</a>
                    <a routerLink="/breadcrumbs" routerLinkActive="active">Rutas</a>
                    <a routerLink="/mapa-sitio" routerLinkActive="active">Mapa</a>
                </nav>

                <!-- Search Bar (Forced Visibility) -->
                <div class="search-section">
                    <div class="search-box">
                        <input type="text" placeholder="Buscar..." class="search-input" [(ngModel)]="searchQuery"
                            (keyup.enter)="goToSearch()">
                        <button class="search-btn" (click)="goToSearch()"
                            style="border:none; background:none; cursor:pointer;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                            </svg>
                        </button>
                    </div>
                </div>

                <!-- Mobile Menu Toggle -->
                <button class="menu-toggle" (click)="toggleMobileMenu()">
                    <svg width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>

            </div>
        </div>
    </header>

    <!-- Mobile Nav Overlay -->
    <div class="mobile-nav-overlay" [class.open]="isMobileMenuOpen">
        <button class="close-menu" (click)="toggleMobileMenu()">&times;</button>
        <nav class="mobile-nav-links">
            <a routerLink="/" (click)="toggleMobileMenu()">Inicio</a>
            <a routerLink="/elementos" (click)="toggleMobileMenu()">Elementos</a>
            <a routerLink="/menu" (click)="toggleMobileMenu()">Menú</a>
            <a routerLink="/breadcrumbs" (click)="toggleMobileMenu()">Rutas</a>
            <a routerLink="/mapa-sitio" (click)="toggleMobileMenu()">Mapa</a>
        </nav>
    </div>

    <!-- Main Content Route -->
    <main class="main-content" [@fadeAnimation]="getRouteAnimationData()">
        <router-outlet></router-outlet>
    </main>

    <!-- Footer -->
    <footer class="app-footer">
        <div class="footer-content">
            <div class="footer-brand">
                <h3>DevStructure</h3>
            </div>
            <div class="footer-links">
                <a routerLink="/mapa-sitio">Mapa del Sitio</a>
                <a href="#">Documentación</a>
                <a href="#">Contacto</a>
            </div>
        </div>
        <div class="footer-copyright">
            &copy; 2026 Arquitectura Web Pro. Todos los derechos reservados.
        </div>
    </footer>

</div>